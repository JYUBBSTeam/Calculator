import sys
from PyQt5.QtWidgets import QPushButton,QWidget,QApplication
from PyQt5.QtCore import Qt,QMimeData
from PyQt5.QtGui import QDrag

class Button(QPushButton):
    def __init__(self,title,parent):
        super().__init__(title,parent)

    def mouseMoveEvent(self,e):
        if e.buttons()!=Qt.RightButton:
            print('')

        mimeData=QMimeData()

        drag=QDrag(self)
        drag.setMimeData(mimeData)
        drag.setHotSpot(e.pos() - self.rect().topLeft())

        dropAcion=drag.exec_(Qt.MoveAction)

class Example(QWidget):
    def __init__(self):
        super().__init__()
        self.initUI()

    def initUI(self):
        self.setAcceptDrops(True)

        self.button1=Button("+",self)
        self.button1.move(50,20)

        self.button2=Button("-",self)
        self.button2.move(150,20)

        self.button3=Button("*",self)
        self.button3.move(50,20)

        self.button4=Button("/",self)
        self.button4.move(150,50)


        self.setWindowTitle("四则运算")
        self.setGeometry(300,300,280,150)

    def dragEnterEvent(self,e):
        e.accept()

    def dropEvent(self,e):
        position=e.pos()
        if self.button1.isDown():
            self.button1.move(position)
        elif self.button2.isDown():
            self.button2.move(position)
        elif self.button3.isDown():
            self.button3.move(position)
        elif self.button4.isDown():
            self.button4.move(position)

        e.setDropAction(Qt.MoveAction)
        e.accept()


if __name__=='__main__':
    app=QApplication(sys.argv)
    ex=Example()
    ex.show()
    app.exec_()